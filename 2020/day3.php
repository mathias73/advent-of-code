<?php

$listTree = array(
    '..#.......#..##...#...#..#.#...',
    '..##..#..#.....#.........#....#',
    '...#.##..#.#......#.#....#.....',
    '...#.....#......#...#..........',
    '.......#.#..#..#....##....##...',
    '.#......#......#.#..#....#.#...',
    '.#..........#.....###.##..#.#..',
    '....#...##...........#.........',
    '##......#.#...#...#....##.#...#',
    '.....#.....#.#..#....###...#..#',
    '.#....#.........#...#.......#.#',
    '.##......#.#.........#....#.#..',
    '...#........###..#......##....#',
    '.#.....###..........#...#....##',
    '............#......#...#...#..#',
    '.....#.#....#.#.#...........#.#',
    '....#.....#...##.##.....###..#.',
    '.....#.##......#.##.#...#.#.#..',
    '##.....#.##.##....#..##......#.',
    '.....#.....#........#........##',
    '#..#...#.#.#..##....#....##..#.',
    '.#......................##..#..',
    '#.#.#................#.....#...',
    '..#....#.#.#..##..#..#.....##..',
    '.....###..#.............#....##',
    '..#....#.#...#......###..#.....',
    '.......####.....##......#......',
    '..##...#..#...#.#..#......#....',
    '..##..#..#.....#......##.##....',
    '.#......#................#..#.#',
    '...............#....#.......#..',
    '#...........#.#.#........#.#...',
    '...#...#..#.....##..#.##...#.#.',
    '.#.#..#.#.....#...#..##....#.##',
    '.........#...#.#.#....#.......#',
    '............##.#..#.#........#.',
    '#..#..#........#......####.....',
    '..#.#...#...#...#.#...#..#..#..',
    '#....................#.#.#....#',
    '.......#.....#....#....##..#...',
    '.......#.............##.....#..',
    '..##..#.......#..#.........#..#',
    '..##.#........#...#...#..#..#..',
    '..##.#...#................#..#.',
    '..#.....##...##......###.....#.',
    '.....#.....#......#......#.....',
    '....##.#.#....#.....#..........',
    '...#...#.#.....#.###.....#....#',
    '......##....#..##...##.#.......',
    '......................##......#',
    '.##......#...#...#...##.#.##.#.',
    '#.......#...#.....#........#.#.',
    '...............#......#.......#',
    '.#..##...#....#.....###....##..',
    '...#..###...#..#....#.#..#.....',
    '.#...#....#.................#..',
    '.......##....#..##......#.#....',
    '....#.....#.....###...#....#...',
    '..##..#..##........#...........',
    '....#..#.#............#........',
    '####.....##.........#....#.....',
    '........#.....#......#......##.',
    '#..........#........#....#...##',
    '#..#...###.....##.....#.##...#.',
    '......#....##.............#..#.',
    '..#......###...#...#..##.....#.',
    '#.##...#......##.###....#....#.',
    '...............#....#.....###.#',
    '#......#........#.#..##.#.....#',
    '#..............#..##.#....#....',
    '.##....###...#...#.#....#....#.',
    '.......#...#.......#....#..##..',
    '..##.#.....#..#...............#',
    '.##..............#.......#...#.',
    '.....#...#.#..#.........#..#...',
    '........#.#.###......#..#......',
    '..#.......###..#...#...........',
    '............#.#.....#....#...#.',
    '#...#..#......#..#......#......',
    '..##..#......#..#.......#.....#',
    '............#.##.....#.#...#...',
    '....#.#...#.#...#........##....',
    '........##...#...##.....#.#..#.',
    '.#..........#.##...............',
    '###.#..#...###..###..#........#',
    '....#..#............#...#.#.#..',
    '.#....###........#.......#...#.',
    '..........#..#.....#......#....',
    '..##..#.#....#..#.....##....#..',
    '...#...............#......#....',
    '......#.#.#...###.....##.#.....',
    '.#...#.#.#.#....#.....#..#..#.#',
    '..#.....#..##....#......#.#.#..',
    '##.#....#.......#.#.#.......#..',
    '.#.#.#........##.#....#........',
    '...#..#...#.#.........#..#....#',
    '#.#......#.#.#..#.#............',
    '......#.....#.....#.......#..#.',
    '.........#..#.##..#..###....#.#',
    '.......#..........#..#.........',
    '......#.#.##...#.#...##........',
    '...........##..##.##....#......',
    '..#..#...#.###...##.....#..#..#',
    '.#...##.......#.#..........#..#',
    '##......#...........#.#........',
    '..#..#.....##..#.#.......#...#.',
    '.#....#..#.....###.......#...#.',
    '...#..#...#...###.#.###..#.....',
    '.......#...#.##......#.#.#.#...',
    '.#.......#...#...#...##........',
    '...#........#....#..#.#...#.#..',
    '..#............#.....#.#....#..',
    '#.....#.#..#.#....#...#.#.#....',
    '#......#......##.#...........#.',
    '.#..#.........##.#........#....',
    '.#....#.#...#........#......#..',
    '....#..#..#....#..#.#.....#..#.',
    '.##.#.....#..#.#...#.....#..###',
    '#..#......#..##....##..#.......',
    '.......#..##....#.###..........',
    '.#......#..........#........#..',
    '.........#.....#......#.#......',
    '.....#..#.......#...#.#....#...',
    '.#......#...#..#......#.....#.#',
    '#.#.#..#.........#.......##....',
    '...#..#.....#.#..#......#...#..',
    '.##...#...#.#....#.....#.#...#.',
    '..#......##......#....#.#..#...',
    '....#.#.....#..#...........#...',
    '.#........#....#....#...#......',
    '..#.#.....#.......#.#.#.##..##.',
    '...#..#.##.......#...#.........',
    '....##.#.#..#.#..#.#.#..#.#.#.#',
    '......#.......#.....#...##.#...',
    '..#.##.....#....#...#...##.##.#',
    '..##.........##.........#..#...',
    '.....###......####..#.#...#....',
    '...#....#....##.............#.#',
    '.#.........#.......##..#.#.....',
    '...#..#........#...............',
    '........#........##......#.#...',
    '##...#......#.....#.##........#',
    '.............#.#........#......',
    '.......##.........#.......#....',
    '....#.......#......#..###....#.',
    '.#.##........#.....#......#....',
    '#...........##...#..##.........',
    '.....#.#........#........##...#',
    '#.........#..##.....#...#....#.',
    '.........#...####..#....###....',
    '###.#..##.......#....#....#.##.',
    '...........#.....#.#...#..#....',
    '.##......###.#.#.#....#........',
    '....#..................#.###.#.',
    '#..##...#......#...#......###..',
    '.#.....#..##......#.#.#.#......',
    '..##...#..#.......##.#.......#.',
    '...#..#..##..##..##.#..####....',
    '......#..#..............#.#####',
    '....#....#..#...#...#.#........',
    '.###...#.......#..#........#...',
    '........#.#......##...#........',
    '.#..#.......##.......#.....##..',
    '...##..........##...........#..',
    '......................#..#.#.#.',
    '#..#.....#......#.....#....#.##',
    '..#......#.....#....#...#.##.#.',
    '............#...#...#......#.##',
    '........##.......#......##.....',
    '..#.##.....#....#..##...#......',
    '........#.#...##.#..#...#....#.',
    '...##............##.....#..#...',
    '...###.##....#....#.#.#.#..#...',
    '............#..#....#..#.....##',
    '...#......##.......#......##..#',
    '.......#......#........#.....#.',
    '.#....#.##..........#..........',
    '..###.........#..#...##.....#..',
    '##....##..#.......###....#.#.#.',
    '#.......#.#.##.................',
    '..#..........#................#',
    '....#.#....#...###...#......#..',
    '.#..........#..#..##.....#...##',
    '.#.....###....#.#...#.#........',
    '.........##.........#..#.#.....',
    '.#.....##....#......##.#....#..',
    '###..#...#..#.........#......#.',
    '..##.....#....#............#...',
    '.....##.##....#.....#..#..#....',
    '.......###...#..........#......',
    '...#........#....#.##.#........',
    '........###....##........##.#..',
    '....#....#........#.....##.....',
    '.#........#.#........#...#..#..',
    '#..#..#......#....##.#..###....',
    '...........#...#...#....#.#...#',
    '.#..#.....#.##..#......##......',
    '..#.#...............##..##.###.',
    '...#.#...#............##.#..#..',
    '.#.#....#....#................#',
    '...#..#.#.##.#.#....#......#...',
    '.........#..#.......##.##.#....',
    '..............#..##.#.....#....',
    '......#.........#...#...##.#..#',
    '....##.....#.#...#.#.####.#....',
    '#..#.#....#.##.......#....#....',
    '...##....#...................##',
    '##.#.......#....#.#.........#.#',
    '.##.#..###...#.#.........#.....',
    '...#.#.#..#...#...#.##....#..#.',
    '....#.....###...#....##........',
    '.............#....#....#....#..',
    '#...#.....#.#...#.#............',
    '#.#....#...........##.......#..',
    '..#..#.........#....###.......#',
    '....###..................##...#',
    '.#........#.....##...#......#..',
    '#..#......#..#.....#.##..#...#.',
    '....#........#.##.#......#.....',
    '#.#...#...............####...##',
    '#.#.....##..#.####.............',
    '##...##..#.##........#.#...#...',
    '...#...........#............#..',
    '...#..#..#........##...........',
    '..#.##..#.#...#...#..#......#..',
    '.....##......#...##.....##.....',
    '.......##.....##....#..........',
    '..........#.#...............#.#',
    '#.#..........#..#..##..#...#..#',
    '.#.#..#.###................#...',
    '#...#...#....#...#....#.##.##..',
    '.#................###.....##...',
    '.....##.#.....##.#.....#.....##',
    '.......#.......#......#.#......',
    '..#....#......#.....#.....#..#.',
    '#......#..##..####.....#.#..#..',
    '.......#...###..#...#.....#....',
    '#.#.#......#.............#..###',
    '.#.#.......#..#.#..#..#...#.#..',
    '..#.#......#......#.#....#.....',
    '..#..###..#.#.....#....#.......',
    '..........#........#......#..#.',
    '##..........##....##..###.##...',
    '...#....#.......#..##.......#..',
    '##...#............##...#.#.#.#.',
    '...........#...#.#....#.....##.',
    '.#................#.......#...#',
    '....##.#..#.#.........###.###.#',
    '#..#...###..#...#......#..##...',
    '..##........#.#..##.#..........',
    '...#..#...#...............#.#..',
    '##.##....#...#........#...#....',
    '#..#......#.##.................',
    '.....#..##.##.......#..........',
    '...#.....#........#......#.....',
    '.....#..#......#.....##...#....',
    '#......#...###....#....###.....',
    '................###..#..#..#.##',
    '......#.......#..........#.#..#',
    '###..#..#.##.............#.#...',
    '....##.#.......#...#..##.......',
    '..#.....##..#..#..#.#..........',
    '.#.......#.#..#........##......',
    '..............#.........#......',
    '..#........##....#.#.#......##.',
    '.#.#.........#.#...#.#.........',
    '..........#..#.##.#....#...#.#.',
    '............##....#.....###...#',
    '#....#..#...#.#...#.....#....#.',
    '.#...##.....#......#..#........',
    '.#..#...###.#..##........#...#.',
    '#..#...##.####.......#.....#...',
    '#.##..#...#......#.#.......#.#.',
    '#.#.....##...#.#...............',
    '#...........##.##.#.........#..',
    '...#...........#.#.#.#....#..#.',
    '..#......#.#.#....##..#.#.....#',
    '.........#.#.##...##...#.#.#...',
    '...........#..#.####.#..#.#.###',
    '#........#.#......#..#...#.....',
    '...#....#......##...#.#........',
    '......#.#....#.##....#....#..##',
    '.......###......#.#.....#......',
    '#..........##..................',
    '.###.......##..#..##...##......',
    '##.#..............#....#....##.',
    '#....#.....#.##.....#..#....#.#',
    '.......#.......#..#..#..##..#..',
    '......#...........#..##....#...',
    '.....#.......#..#......#..#..##',
    '.##...#......#........#....#...',
    '.....#..#....#...............##',
    '..#.....#....#..#.##....#.#....',
    '#.#......####...#..#.........#.',
    '#.#........#..#........#...#...',
    '..#..............#.......###.#.',
    '...#.#....##.#......#........#.',
    '....###.......##.#.....##.....#',
    '.........#......#.#.......##.##',
    '.......#.#....#.#...#...#....#.',
    '....#....#....#.#.......##.....',
    '#...#.....#..#.....#...........',
    '#...#..#...#.#..#.............#',
    '........###..#........#........',
    '.............#....#..###..#.#.#',
    '#...............#..#.#.........',
    '##.....###..#......#...#....#..',
    '.#...................##.#.##...',
    '#..#........#.#...#..#...#.....',
    '................#.#.........#..',
    '#.....##.#.#...#..#.........##.',
    '...#.....#....#..####.#........',
    '....#.#...........#............',
    '.....#........##..........#....',
    '..#.......#.#.#.####..#......#.',
    '#.......#...##.#.#..#.#.#......',
    '##........#.#...###............',
    '..##........#........#...#.#.#.',
    '#.#..#.#.......#....#........#.',
    '..............#....#.........#.',
    '#....#.#........#.............#',
    '..##...#..........#........#...',
    '..#..#..#....#....#............',
);


function countTree($right, $down, $listTree): int
{

    $inputLength = strlen($listTree[0]);
    $moveX = 0;
    $moveY = 0;
    $countTree = 0;

    while ($moveY < count($listTree)) {

        $currentX = $moveX % $inputLength;

        if ($listTree[$moveY][$currentX] === "#") {
            $countTree++;
        }
        $moveX += $right;
        $moveY += $down;
    }
    return $countTree;
}

function part2($listTree): int
{
    $moves = array(
        array( 1,  1),
        array( 3,  1),
        array( 5,  1),
        array( 7,  1),
        array( 1,  2)
    );

    $res = 1;

    foreach ($moves as $move) {
        $res *= countTree($move[0], $move[1], $listTree);
    }

    return $res;
}

print_r(part2($listTree));
















